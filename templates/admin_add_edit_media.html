{% extends "base.html" %}
{% block title %}{{ action }} Media{% endblock %}
{% block content %}
<h2>{{ action }} Media</h2>
<form method="POST">
    <div class="mb-3">
        <label>Title</label>
        {% if action == "Edit" %}
            <input type="text" class="form-control" name="title" value="{{ media.title }}" readonly>
        {% else %}
            <input type="text" class="form-control" name="title" required>
        {% endif %}
    </div>
    <div class="mb-3">
        <label>Creator</label>
        <input type="text" class="form-control" name="creator" value="{{ media.creator if media else '' }}" required>
    </div>
    <div class="mb-3">
        <label>Genre</label>
        <input type="text" class="form-control" name="genre" value="{{ media.genre if media else '' }}" required>
    </div>
    <div class="mb-3">
        <label>Release Date</label>
        <input type="date" class="form-control" name="release_date" value="{{ media.release_date if media else '' }}" required>
    </div>
    <div class="mb-3">
        <label>Media Tags (comma separated)</label>
        <input type="text" class="form-control" name="media_tags" value="{{ media.get_metadata_list()|join(', ') if media else '' }}">
    </div>
    <div class="mb-3">
        <label>Status</label>
        <select class="form-select" name="status" required>
            <option value="owned" {% if user_media and user_media.status == 'owned' %}selected{% endif %}>Owned</option>
            <option value="wishlist" {% if user_media and user_media.status == 'wishlist' %}selected{% endif %}>Wishlist</option>
            <option value="completed" {% if user_media and user_media.status == 'completed' %}selected{% endif %}>Completed</option>
            <option value="currently using" {% if user_media and user_media.status == 'currently using' %}selected{% endif %}>Currently Using</option>
        </select>
    </div>
    <button type="submit" class="btn btn-primary">{{ action }}</button>
    <a href="{{ url_for('admin_media_list') }}" class="btn btn-secondary ms-2">Cancel</a>
</form>
{% endblock %}
